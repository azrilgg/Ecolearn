<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EcoLearn - Quiz Lingkungan</title>

  <!-- POPPINS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- FONT AWESOME -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- AOS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

  <!-- STYLE -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="logo">EcoLearn</div>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Beranda</a></li>
      <li><a href="belajar.html">Belajar</a></li>
      <li><a href="komunitas.html">Komunitas</a></li>
      <li><a href="kontak.html">Kontak</a></li>
      <li><a class="active" href="quiz.html">Quiz</a></li>
    </ul>
    <div class="hamburger" onclick="toggleMenu()">
      <i class="fa-solid fa-bars"></i>
    </div>
  </nav>

  <!-- ========== QUIZ INTRO SCREEN ========== -->
<div id="eco-quiz-intro">
    <div class="eco-quiz-wrapper">
        <i class="fa-solid fa-circle-question eco-quiz-icon"></i>

        <p class="eco-quiz-title">EcoQuiz</p>

        <p class="eco-quiz-slogan">
            â€œTest Your Knowledge, Empower Your Future.â€
        </p>

        <div class="eco-quiz-progress">
            <span class="eco-quiz-progress-fill"></span>
        </div>
    </div>
</div>

  <!-- HERO -->
  <header class="ultra-quiz-section">
  <div class="ultra-hero-container" data-aos="fade-up">

    <h1 class="ultra-hero-title">
      IKUTI QUIZ <span class="highlight">EcoLearn</span>
    </h1>

    <p class="ultra-hero-subtitle">
      Uji pengetahuanmu tentang lingkungan dan pengelolaan sampah melalui quiz interaktif EcoLearn! Jawab setiap pertanyaan, tingkatkan wawasanmu, dan lihat sejauh mana kamu sudah peduli terhadap bumi yang kita pijak. Siap mencoba tantangan seru ini?
    </p>

    <div class="ultra-hero-buttons">
      <a href="#intro" class="btn-ultra-primary">Get Started</a>
      <a href="belajar.html" class="btn-ultra-outline">Learn More</a>
    </div>

  </div>
  </header>

  

  <!-- INTRO -->
  <section class="intro-section sub-intro">
    <div class="container">
      <video class="intro-bg-video" autoplay muted loop playsinline>
        <source src="video/quiz.mp4" type="video/mp4">
        </video>
      <div class="intro-text" data-aos="fade-right">
        <h2>Siap Tantangan?</h2>
        <p>
          Quiz EcoLearn terdiri dari <b>10 soal pilihan ganda</b> seputar sampah, daur ulang,
          energi terbarukan, polusi, dan konservasi alam.
          Kamu akan mendapat poin berdasarkan jawaban benar, dan rankingmu akan disimpan otomatis!
        </p>
      </div>
    </div>
  </section>

  <section class="uqz-wrapper" id="uqz-section">
    
    <!-- BADGE -->
    <div class="uqz-badge" data-aos="fade-down">
        <i class="fa-solid fa-medal"></i> Quiz Challenge
    </div>

    <!-- HEADER -->
    <div class="uqz-header" data-aos="fade-up">
        <h1>Siap untuk <span>Tantangan</span>?</h1>
        <p>
            Uji pengetahuanmu tentang pengelolaan sampah dan lingkungan dengan quiz interaktif yang
            seru, edukatif, dan menantang!
        </p>
    </div>

    <!-- LEVEL SELECTOR -->
    <div class="uqz-levels" data-aos="fade-up">

        <h3><i class="fa-solid fa-bullseye"></i> Pilih Tingkat Kesulitan</h3>

        <div class="uqz-level-card uqz-easy" onclick="uqzChooseLevel('easy')">
            <div class="uqz-l-left">
                <h4>Mudah <span>10â€“15 poin</span></h4>
                <p>Pertanyaan dasar tentang sampah & lingkungan</p>
                <div class="uqz-meta"><i class="fa-solid fa-leaf"></i> 5 pertanyaan Â· â± 30s</div>
            </div>
            <div class="uqz-l-right">
                <i class="fa-solid fa-chevron-right"></i>
            </div>
        </div>

        <div class="uqz-level-card uqz-medium" onclick="uqzChooseLevel('medium')">
            <div class="uqz-l-left">
                <h4>Sedang <span>15â€“20 poin</span></h4>
                <p>Pengetahuan menengah tentang pengelolaan sampah</p>
                <div class="uqz-meta"><i class="fa-solid fa-fire"></i> 10 pertanyaan Â· â± 25s</div>
            </div>
            <div class="uqz-l-right">
                <i class="fa-solid fa-chevron-right"></i>
            </div>
        </div>

        <div class="uqz-level-card uqz-hard" onclick="uqzChooseLevel('hard')">
            <div class="uqz-l-left">
                <h4>Sulit <span>20â€“25 poin</span></h4>
                <p>Tantangan untuk kamu yang sudah jago lingkungan</p>
                <div class="uqz-meta"><i class="fa-solid fa-bolt"></i> 20 pertanyaan Â· â± 20s</div>
            </div>
            <div class="uqz-l-right">
                <i class="fa-solid fa-chevron-right"></i>
            </div>
        </div>

        <button class="uqz-start-btn" onclick="uqzStartQuiz()" id="uqzStartBtn">
            <i class="fa-solid fa-play"></i> Mulai Quiz Sekarang!
        </button>

        <p class="uqz-free-tag">GRATIS Â· Tidak perlu daftar Â· Hasil langsung keluar</p>
    </div>

    <!-- FEATURES -->
    <div class="uqz-features" data-aos="fade-up">
        <h3><i class="fa-solid fa-sparkles"></i> Fitur Quiz</h3>

        <div class="uqz-feature-item">
            <i class="fa-solid fa-stopwatch"></i>
            <div>
                <h4>Timer Challenge</h4>
                <p>Waktu semakin cepat setiap level meningkat</p>
            </div>
        </div>

        <div class="uqz-feature-item">
            <i class="fa-solid fa-trophy"></i>
            <div>
                <h4>Sistem Poin</h4>
                <p>Dapatkan poin lebih besar untuk soal sulit</p>
            </div>
        </div>

        <div class="uqz-feature-item">
            <i class="fa-solid fa-book-open"></i>
            <div>
                <h4>Penjelasan</h4>
                <p>Lihat jawaban benar di akhir sesi</p>
            </div>
        </div>

        <div class="uqz-feature-item">
            <i class="fa-solid fa-ranking-star"></i>
            <div>
                <h4>Leaderboard</h4>
                <p>Bandingkan skor dengan pemain lain</p>
            </div>
        </div>
    </div>

    <!-- TIPS -->
    <div class="uqz-tips" data-aos="fade-up">
        <h3><i class="fa-solid fa-lightbulb"></i> Tips Bermain</h3>

        <ul>
            <li>ğŸ“ Baca soal secara teliti</li>
            <li>â± Gunakan waktu sebaik mungkin</li>
            <li>ğŸ“˜ Pelajari jawaban benar</li>
            <li>ğŸ”„ Coba semua tingkat kesulitan</li>
        </ul>
    </div>

    <!-- STATS -->
    <div class="uqz-stats" data-aos="fade-up">
        <h3>Statistik Quiz</h3>

        <div class="uqz-stats-grid">
            <div class="uqz-stat-item">
                <p>Total Pemain</p>
                <h2>12,547</h2>
            </div>
            <div class="uqz-stat-item">
                <p>Quiz Hari Ini</p>
                <h2>234</h2>
            </div>
            <div class="uqz-stat-item">
                <p>Skor Tertinggi</p>
                <h2>2,450</h2>
            </div>
            <div class="uqz-stat-item">
                <p>Rata-rata Skor</p>
                <h2>1,280</h2>
            </div>
        </div>
    </div>

</section>

<!-- QUIZ BOX -->
<section id="uqzQuizBox" class="uqz-hidden">
    <div class="uqz-quiz-card">

        <div class="uqz-top">
            <div class="uqz-progress">
                <div id="uqzProgressFill"></div>
            </div>
            <div class="uqz-timer">â± <span id="uqzTimer">20</span>s</div>
        </div>

        <h2 id="uqzQuestionText"></h2>
        <div id="uqzOptionsBox" class="uqz-options"></div>

        <button id="uqzNextBtn" class="uqz-next-btn" disabled>Selanjutnya</button>
    </div>
</section>

<!-- RESULT -->
<section id="uqzResultBox" class="uqz-hidden">
    <div class="uqz-result-card">
        <h2 id="uqzScoreText"></h2>
        <p id="uqzScoreMessage"></p>

        <button onclick="uqzRestartQuiz()" class="uqz-restart-btn">
            Coba Lagi
        </button>
    </div>
</section>

  <!-- QUIZ SECTION -->
  <section class="quiz-section">
    <div class="container">
      <!-- PROGRESS -->
      <div class="quiz-progress" data-aos="fade-up">
        <div class="progress-label">Progress: <span id="quiz-progress-number">0/10</span></div>
        <div class="progress-bar">
          <div id="progress-fill"></div>
        </div>
      </div>

      <!-- QUIZ BOX -->
      <div class="quiz-card" data-aos="fade-up" id="quiz-card">
        <h2 id="quiz-question">Loading soal...</h2>
        <div class="quiz-options" id="quiz-options"></div>
        <button class="btn-primary" id="next-btn" disabled>Lanjut</button>
      </div>

      <!-- RESULT -->
      <div class="quiz-result" id="quiz-result" style="display:none" data-aos="fade-up">
        <h2>Hasil Quiz</h2>
        <p>Skor kamu: <span id="final-score">0</span> poin</p>
        <div class="rank-box">
          <h3>Peringkatmu: <span id="player-rank">-</span></h3>
        </div>
        <button class="btn-primary" id="restart-btn">
          <i class="fa-solid fa-rotate-right"></i> Ulangi Quiz
        </button>
      </div>

      <!-- LEADERBOARD -->
      <div class="leaderboard-box" id="leaderboard-box" style="display:none" data-aos="fade-up">
        <h2>Leaderboard</h2>
        <ul id="leaderboard-list"></ul>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-final">
    <div class="container" data-aos="fade-up">
      <h2>Mau belajar lebih banyak tentang lingkungan?</h2>
      <p>Kunjungi halaman belajar kami penuh materi lengkap!</p>
      <a href="belajar.html" class="btn-primary">Ke Halaman Belajar</a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>Â© 2025 EcoLearn. Bangun generasi peduli lingkungan.</p>
  </footer>

  <!-- SCRIPT -->
  <script src="script.js"></script>

  <script>
/* ============================================================
   SYSTEM 1 â€” UQZ QUIZ (Level: easy/medium/hard)
============================================================ */
let uqzLevel = null;
let uqzIndex = 0;
let uqzScore = 0;
let uqzTimerValue = 20;
let uqzTimerInterval = null;

const uqzQuestions = {
    easy: [
        { q: "Apa warna sampah organik?", o: ["Hijau", "Merah", "Kuning"], a: 0 },
        { q: "Apa itu kompos?", o: ["Pupuk alami", "Limbah plastik", "Air sabun"], a: 0 },
        { q: "Sampah daun disebut?", o: ["Organik", "Anorganik", "B3"], a: 0 },
        { q: "Botol plastik termasuk?", o: ["Organik", "Anorganik", "Gas"], a: 1 },
        { q: "Manakah sampah organik?", o: ["Kertas", "Daun", "Botol"], a: 1 }
    ],

    medium: [
        { q: "Plastik PET dapat didaur ulang menjadi?", o: ["Baju", "Sayur", "Batu"], a: 0 },
        { q: "Apa fungsi bank sampah?", o: ["Menjual sampah bernilai", "Memusnahkan sampah", "Mengubur sampah"], a: 0 },
        { q: "Limbah minyak goreng termasuk?", o: ["Organik", "Anorganik", "B3"], a: 2 },
        { q: "Sampah kaca bisa menjadi?", o: ["Tanah", "Kaca baru", "Gas"], a: 1 },
        { q: "Kode daur ulang plastik nomor 1 adalah?", o: ["PET", "HDPE", "PVC"], a: 0 },
        { q: "Sampah medis termasuk?", o: ["Organik", "B3", "Plastik"], a: 1 },
        { q: "Komposisi terbesar sampah rumah tangga?", o: ["Organik", "Metal", "Kaca"], a: 0 },
        { q: "Sampah elektronik disebut?", o: ["PL", "DLP", "E-waste"], a: 2 },
        { q: "Proses pengurangan sampah disebut?", o: ["Reduce", "Rotate", "Recover"], a: 0 },
        { q: "Benda berikut yang bisa didaur ulang adalah?", o: ["Styrofoam", "Kaca", "Tisu"], a: 1 }
    ],

    hard: [
        { q: "Apa fungsi insinerator?", o: ["Membakar sampah", "Menggiling sampah", "Mencuci sampah"], a: 0 },
        { q: "Gas metana dari TPA dapat digunakan untuk?", o: ["Bahan bakar", "Air minum", "Pupuk"], a: 0 },
        { q: "Plastik PP memiliki nomor daur ulang?", o: ["5", "3", "7"], a: 0 },
        { q: "Metode LCA menganalisis?", o: ["Daur hidup produk", "Warna sampah", "Jumlah TPA"], a: 0 },
        { q: "Sampah B3 berbahaya karena?", o: ["Toksik", "Murah", "Ringan"], a: 0 },
        { q: "Proses composting membutuhkan?", o: ["Oksigen", "Gas CO2 saja", "Tidak butuh udara"], a: 0 },
        { q: "Yang termasuk biohazard?", o: ["Darah", "Kertas", "Kardus"], a: 0 },
        { q: "Plastik LDPE bernomor?", o: ["4", "6", "2"], a: 0 },
        { q: "Metode RDF menghasilkan?", o: ["Bahan bakar padat", "Gas bersih", "Air"], a: 0 },
        { q: "Sampah residu adalah?", o: ["Tak bisa didaur ulang", "Mudah didaur ulang", "Organik"], a: 0 },
        { q: "Manakah contoh sampah B3?", o: ["Pestisida", "Buah", "Tanah"], a: 0 },
        { q: "Sampah medis disterilkan dengan?", o: ["Autoclave", "Air panas", "Sabun"], a: 0 },
        { q: "Reuse berarti?", o: ["Menggunakan ulang", "Membuang", "Mengubur"], a: 0 },
        { q: "Sampah biomassa dapat digunakan untuk?", o: ["Energi", "Logam", "Kaca"], a: 0 },
        { q: "Bioplastik terbuat dari?", o: ["Pati", "Besi", "Minyak bumi"], a: 0 },
        { q: "Energi TPA berasal dari?", o: ["Gas metana", "Gas helium", "Ozon"], a: 0 },
        { q: "Plastik No.7 adalah kategori?", o: ["Lainnya", "Organik", "B3"], a: 0 },
        { q: "Pyrolysis menghasilkan?", o: ["Minyak", "Besi", "Tanah"], a: 0 },
        { q: "Faktor utama composting?", o: ["C/N Ratio", "Kecepatan angin", "Tekanan"], a: 0 },
        { q: "Limbah deterjen termasuk?", o: ["Kimia", "Organik", "Gas"], a: 0 }
    ]
};

function uqzChooseLevel(level) {
    uqzLevel = level;
    document.getElementById("uqzStartBtn").disabled = false;
}

function uqzStartQuiz() {
    document.querySelector(".uqz-levels").style.display = "none";
    document.getElementById("uqzQuizBox").classList.remove("uqz-hidden");

    uqzIndex = 0;
    uqzScore = 0;

    uqzLoadQuestion();
    uqzStartTimer();
}

function uqzLoadQuestion() {
    const q = uqzQuestions[uqzLevel][uqzIndex];
    document.getElementById("uqzQuestionText").textContent = q.q;

    const box = document.getElementById("uqzOptionsBox");
    box.innerHTML = "";

    q.o.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className = "uqz-option-btn";
        btn.textContent = opt;
        btn.onclick = () => uqzSelect(i);
        box.appendChild(btn);
    });

    document.getElementById("uqzNextBtn").disabled = true;
}

function uqzSelect(i) {
    const correct = uqzQuestions[uqzLevel][uqzIndex].a;
    if (i === correct) uqzScore += 10;

    document.querySelectorAll(".uqz-option-btn")[i].classList.add("selected");

    document.getElementById("uqzNextBtn").disabled = false;
}

function uqzNext() {
    uqzIndex++;
    if (uqzIndex >= uqzQuestions[uqzLevel].length) return uqzFinish();

    uqzLoadQuestion();
    uqzStartTimer();
}

document.getElementById("uqzNextBtn").onclick = uqzNext;

function uqzStartTimer() {
    clearInterval(uqzTimerInterval);

    let time = uqzLevel === "easy" ? 30 : uqzLevel === "medium" ? 25 : 20;

    document.getElementById("uqzTimer").textContent = time;

    const fill = document.getElementById("uqzProgressFill");
    fill.style.width = "0%";

    uqzTimerInterval = setInterval(() => {
        time--;
        document.getElementById("uqzTimer").textContent = time;

        fill.style.width = ((time / 30) * 100) + "%";

        if (time <= 0) {
            clearInterval(uqzTimerInterval);
            uqzNext();
        }
    }, 1000);
}

function uqzFinish() {
    clearInterval(uqzTimerInterval);

    document.getElementById("uqzQuizBox").classList.add("uqz-hidden");
    document.getElementById("uqzResultBox").classList.remove("uqz-hidden");

    document.getElementById("uqzScoreText").textContent =
        `Skor Akhir: ${uqzScore} poin`;

    document.getElementById("uqzScoreMessage").textContent =
        uqzScore < 50 ? "Terus belajar ya!" :
        uqzScore < 100 ? "Mantap, lumayan jago!" :
        "Kamu master lingkungan!";
}

function uqzRestartQuiz() {
    document.getElementById("uqzResultBox").classList.add("uqz-hidden");
    document.querySelector(".uqz-levels").style.display = "block";
}

/* ============================================================
   SYSTEM 2 â€” QUIZ BIASA (10 Soal)
============================================================ */
const quizData = [
    { q: "Apa warna tempat sampah organik?", o: ["Hijau", "Biru", "Kuning"], a: 0 },
    { q: "Sampah plastik termasuk?", o: ["Organik", "Anorganik", "Gas"], a: 1 },
    { q: "Apa itu 3R?", o: ["Reduce Reuse Recycle", "Run Ride Roll", "Red Right Rule"], a: 0 },
    { q: "Kompos berasal dari?", o: ["Sampah organik", "Sampah metal", "Sampah kaca"], a: 0 },
    { q: "Mana yang tidak bisa didaur ulang?", o: ["Kaca", "Plastik", "Tisu"], a: 2 },
    { q: "Apa fungsi bank sampah?", o: ["Jual sampah bernilai", "Buang sampah", "Bakar sampah"], a: 0 },
    { q: "Sampah B3 adalah?", o: ["Berbahaya", "Basah", "Basi"], a: 0 },
    { q: "Metal termasuk?", o: ["Organik", "Anorganik", "Cair"], a: 1 },
    { q: "Sampah daun termasuk?", o: ["Organik", "Anorganik", "Plastik"], a: 0 },
    { q: "Yang dapat didaur ulang?", o: ["Styrofoam", "Botol kaca", "Tisu"], a: 1 }
];

let qIndex = 0;
let score = 0;

function loadQuiz() {
    const q = quizData[qIndex];
    document.getElementById("quiz-question").textContent = q.q;

    const options = document.getElementById("quiz-options");
    options.innerHTML = "";

    q.o.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className = "quiz-option-btn";
        btn.textContent = opt;
        btn.onclick = () => selectOption(i);
        options.appendChild(btn);
    });

    document.getElementById("quiz-progress-number").textContent = (qIndex + 1) + "/10";

    document.getElementById("next-btn").disabled = true;

    document.getElementById("progress-fill").style.width = ((qIndex) / 10) * 100 + "%";
}

function selectOption(i) {
    const correct = quizData[qIndex].a;
    if (i === correct) score += 10;

    document.getElementById("next-btn").disabled = false;

    document.querySelectorAll(".quiz-option-btn")[i].classList.add("selected");
}

document.getElementById("next-btn").onclick = () => {
    qIndex++;
    if (qIndex >= quizData.length) return finishQuiz();

    loadQuiz();
};

function finishQuiz() {
    document.getElementById("quiz-card").style.display = "none";
    document.getElementById("quiz-result").style.display = "block";

    document.getElementById("final-score").textContent = score;

    const rank =
        score >= 90 ? "S" :
        score >= 70 ? "A" :
        score >= 50 ? "B" :
        "C";

    document.getElementById("player-rank").textContent = rank;

    saveLeaderboard(score);
    showLeaderboard();
}

function saveLeaderboard(score) {
    const list = JSON.parse(localStorage.getItem("leaderboard") || "[]");

    list.push({ score, date: new Date().toLocaleDateString() });

    list.sort((a, b) => b.score - a.score);

    if (list.length > 5) list.length = 5;

    localStorage.setItem("leaderboard", JSON.stringify(list));
}

function showLeaderboard() {
    const list = JSON.parse(localStorage.getItem("leaderboard") || "[]");

    const ul = document.getElementById("leaderboard-list");
    ul.innerHTML = "";

    list.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.score} poin â€” ${item.date}`;
        ul.appendChild(li);
    });

    document.getElementById("leaderboard-box").style.display = "block";
}

document.getElementById("restart-btn").onclick = () => {
    qIndex = 0;
    score = 0;

    document.getElementById("quiz-result").style.display = "none";
    document.getElementById("leaderboard-box").style.display = "none";

    document.getElementById("quiz-card").style.display = "block";

    loadQuiz();
};

window.onload = loadQuiz;
</script>

  <!-- AOS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>AOS.init({ duration: 900, once: true });</script>
</body>
</html>
